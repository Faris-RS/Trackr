<div class="p-6">
  <input
    type="text"
    class="w-full p-2 rounded-md border focus:outline-none focus:ring-2 focus:ring-indigo-500"
    placeholder="Search vehicles..."
    [(ngModel)]="searchText"
    (input)="applyFilter()"
  />

  <table class="mt-4 min-w-full divide-y divide-indigo-500">
    <thead>
      <tr>
        <th
          scope="col"
          class="px-6 py-3 text-left font-medium text-indigo-500 uppercase tracking-wider"
        >
          <span class="cursor-pointer" (click)="toggleSort('id')">ID</span>
        </th>
        <th
          scope="col"
          class="px-6 py-3 text-left font-medium text-indigo-500 uppercase tracking-wider"
        >
          <span class="cursor-pointer" (click)="toggleSort('vehicleName')"
            >Vehicle Name</span
          >
        </th>
        <th
          scope="col"
          class="px-6 py-3 text-left font-medium text-indigo-500 uppercase tracking-wider"
        >
          <span class="cursor-pointer" (click)="toggleSort('vehicleYear')"
            >Vehicle Year</span
          >
        </th>
        <th
          scope="col"
          class="px-6 py-3 text-left font-medium text-indigo-500 uppercase tracking-wider"
        >
          <span class="cursor-pointer" (click)="toggleSort('insuranceExpiry')"
            >Insurance Expiry</span
          >
        </th>
        <th
          scope="col"
          class="px-6 py-3 text-left font-medium text-indigo-500 uppercase tracking-wider"
        >
          <span
            class="cursor-pointer"
            (click)="toggleSort('registrationNumber')"
            >Registration Number</span
          >
        </th>
      </tr>
    </thead>
    <tbody class="bg-white divide-y divide-gray-200">
      <tr *ngFor="let vehicle of filteredVehicles" class="hover:bg-gray-50">
        <td class="px-6 py-4 whitespace-nowrap">{{ vehicle?.id }}</td>
        <td class="px-6 py-4 whitespace-nowrap">
          {{ vehicle.vehicleName }}
        </td>
        <td class="px-6 py-4 whitespace-nowrap">{{ vehicle.vehicleYear }}</td>
        <td class="px-6 py-4 whitespace-nowrap uppercase">
          {{ vehicle?.insuranceExpiry }}
        </td>
        <td class="px-6 py-4 whitespace-nowrap uppercase">
          {{ vehicle?.registrationNumber }}
        </td>
      </tr>
    </tbody>
  </table>
</div>
<div
  *ngIf="loading"
  class="fixed top-0 bg-white left-0 z-50 flex items-center justify-center w-full h-full bg-opacity-40"
>
  <app-spinner></app-spinner>
</div>
